function [flowTemp, flowVel, flowPressure] = testWallTemp(numChannels, heightStepNumber, heightStepArray, hotwallTempArray, fluidInfoArray, flowTempMatrix, flowVelocityMatrix, flowPressureMatrix, heightArray, widthArray)
    % PSP dimensions
    W1 = 0.1772;
    H1 = 0.1181;
    T1 = 0.0394;
    W2 = 0.1772;
    H2 = 0.1181;
    T2 = 0.0394;
    W3 = 0.0591;
    H3 = 0.0787;
    T3 = 0.0295;
    W4 = 0.0894;
    H4 = 0.0894;
    T4 = 0.0394;

    combo1 = [W1, H1, T1];
    combo2 = [W2, H2, T2];
    combo3 = [W3, H3, T3];
    combo4 = [W4, H4, T4];

    heightStepNumber = 67;
    heightStepArray = 0:8.97/heightStepNumber:8.97;
    channelMatrix = [];
    i = 1;
    for a = heightStepArray
       
        if(heightStepArray(i)<5.21)
            
            channelMatrix(i,:) = combo1;
        
        elseif(heightStepArray(i)<6.674)

            channelMatrix(i,:) = combo2;
        
        elseif(heightStepArray(i)<7.04)

            channelMatrix(i,:) = combo3;

        else
            channelMatrix(i,:) = combo4;   
            
        end

        i=i+1;
    end

    

    numchannels = 62;

    
    %% Inlet Condition Values
    T_start= 292; % K
    P_start = 2517000; % Pa
    v_start = 6.44; %m/s
    rho_start = 1000; %kg/m^3
    m_flow_total = 2.26796; %kg/s
    m_flow_channel = m_flow_total/numchannels;


    channel_number = numChannels; %Change
    mass_flow = m_flow_total/channel_number; % Precalcuated mass flow based on # of channels in Malestrom
 

    %%chamberDiameter = 0.0762; % diameter of chamber (m) (needs to be fixed to be an array or something)
    chamberPressure = 1724000; % Chamber Pressure (Pa)
    k_w = 162; % thermal conductivity of the wall (W/m*K)
    gravity = 9.81; %m/s^2
    
    %% Array initialization
    % initialize/re-define matrices & arrays
    flowTemp = [];
    flowVel = [];
    flowPressure = [];
    currentHeightStep = heightStepArray(end)/heightStepNumber; % axial length of current height step
    T_target = hotwallTempArray ; % target gas-side hotwall temp
    fluidInformation = fluidInfoArray;
    heightStepNumber = 0; % initialize height step number
    wInd = 0;
    hInd = 0;

    %for width = widthArray
     %   wInd = wInd + 1;

      %  for height = heightArray
       %     hInd = hInd + 1;
        
       for i = heightStepArray
        heightStepNumber = heightStepNumber + 1; % iterate through each height step
            if (heightStepNumber==1)

                hotWall_dP = P_start - chamberPressure; %calculate dP for structures (Pa)

            else

                hotWall_dP = flowPressure(heightStepNumber-1) - chamberPressure; %calculate dP for structures (Pa)

            end
            %% Call Tucker's Function HERE, update variables (coolant side hotwall temp, Heat flux, Wall thickness) (needs updated wall and dP)
            [Q_dot, T_wallL, wall_thicknesses] = HeatFlux(width, hotwall_dP, currentHeightStep, k_w, T_target, fluidInformation);
            
            wall_thickness = wall_thicknesses(heightStepNumber);

            if(flowTemp(heightStepNumber-1) == 999999999999999999999999999999999999999999) % if channel dimension combo is already unsuccessful, do not let computation with it continue
                flowTemp(heightStepNumber) = 999999999999999999999999999999999999999999;
                break
            end

            %% Reynold's Number
            % Hydraulic Diameter (m)
            hyd_diam = (2*width*height)/(height+width);
            
            % Velocity (m/s)
            if(heightStepNumber == 1)
                velocity = v_start;
            else
                velocity = flowVel(heightStepNumber-1);
            end

            % Density (kg/m^3)
            if(heightStepNumber == 1)
                density = rho_start;
            else
                density = 287.67129 * .53365016^(-(1+(1-flowTemp(heightStepNumber-1)/574.262)^.628866));
            end 

            % Dynamic viscosity [Pa路s]
            if(heightStepNumber == 1)
                  dyn_visc = 94.544*exp(-.014*T_start);
            else
                dyn_visc = 94.544*exp(-.014*flowTemp(heightStepNumber-1));
            end
    
    
            % Calculate Reynolds number
            Re = (density * velocity * hyd_diam) / dyn_visc;
            


            %% Calculate Prandtl Number
           % Thermal conductivity [W/(m路K)]
            kf = .000005*flowTemp(heightStepNumber-1) + .105;
            %^Use empirical data/curves found from papers in regen channel
        
            % Specific heat capacity [J/(kg路K)]
            cp = 32.068*exp(.0023*flowTemp(heightStepNumber-1));
            %^Use empirical data/curves found from papers in regen channel

            % Prandtl number [-]
            Pr = cp * dyn_visc / kf;



            %% Sieder Tate Nusselt's Number
            % Get viscosity at wall temperature for Sieder-Tate correction
            mu_wall = 88.748 *exp(-.013*flowTemp(heightStepNumber-1));

            % Calculate Nusselt number using Sieder-Tate correlation
            Nu = 0.027 * Re^(4/5) * Pr^(1/3) * (dyn_visc/mu_wall)^0.14;
            
            % Calculate convective heat transfer coefficient [W/(m^2路K)]
            h_l = Nu * kf / D_h;
            


            %% Calculate Required flow temperature
            % Area of Fin (m^2)
            A_fin = currentHeightStep*2*height;

            % Area of Wall on Coolant side (m^2)
            A_wallL = currentHeightStep*width;

            % Area of Wall on Hotwall side (m^2)
            A_wallG = currentHeightStep *(width+fin_width);

            % Calculate fin width at start of channels (m)
            fin_width = ((pi*(chamberDiameter+2*(wall_thickness))) - (channel_number*width))/channel_number;
            
            % Finning Parameter- measure of convection from fins
            fin_param = sqrt((2*h_l*(fin_width+currentHeightStep))/(k_w*currentHeightStep*fin_width));

            % Fin Efficiency- fin convection efficiency
            fin_efficiency = tanh(fin_param*height)/(fin_param*height);

            % Calculate angle of channel slice
            angle_channel = (width/(pi*(chamberDiameter+2*(wall_thickness))))*360;

            % Calculate mass of coolant in height step, m_coolant (kg)
            m_coolant = density*currentHeightStep*((pi*((chamberDiameter+wall_thickness*2)/2)^2)-(pi*((chamberDiameter/2)^2)))*(angle_channel/360);

            % Calculate required specific heat transfer rate, qdotL_total (J/kg*s)
            qdotL_total = Q_dot(heightStepNumber)*((pi*(chamberDiameter)*(angle_channel/360))*currentHeightStep)/m_coolant;

            % Calculate required coolant temp, T_L_req (K)
            T_L_req =  -((qdotL_total*A_wallG)/(h_l*((fin_efficiency*A_fin)+A_wallL)))+T_wallL;



            %% Calculate Coolant Temp increase, delta_T (K)
            delta_T = qdotL_total*currentHeightStep*(width+(2*height*fin_efficiency))/(mass_flow*cp);

            if (heightStepNumber == 1)
                flowTemp(heightStepNumber) = T_start + delta_T; % initial flow temp plus deltaT

            else
                flowTemp(heightStepNumber) = flowTemp(heightStepNumber-1)+delta_T; % Previous step flow temp plus deltaT

            end

            if (flowTemp(heightStepNumber) > T_L_req)
                flowTemp(heightStepNumber) = 999999999999999999999999999999999999999999; % if coolant temp is too high, nullify

            end


            %% Calculate Coolant Pressure Drop
            if(Re < 2100) % Calculate Friction Factor, cf
                cf = 16/Re;
            elseif(5000 < Re && 200000 > Re)
                cf = 0.046/(Re^0.2);
            else
                cf = 0.0014 + (0.125/(Re^0.32));

            end

            delta_P = 2 * cf * currentHeightStep * density * (velocity^2)/ hyd_diam; %Frictional static pressure drop across the channel
            
            flowPressure(heightStepNumber) = flowPressure(heightStepNumber-1) - delta_P; %Flow pressure
            
            %% Calculate Coolant Velocity Increase via Bernoulli's
            flowVel(heightStepNumber) = sqrt((delta_P/density)+(gravity*(currentHeightStep))+velocity^2); % Flow velocity
            
        end

        print(flowTemp)
        print(flowVel)
        print(flowPressure)
 %   end

%end