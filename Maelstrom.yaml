###################################################################################################
#                        Welcome to the Testbed Project's source of truth!                         #
#                                                                                                 #
# Why are we doing this?:                                                                         #
#   As our project grows, it gets hard to keep track of the values on everyone's subsystems as    #
#   they get more and more complicated. Consolidating all of our important design parameters,     #
#   inputs and outputs in the same file helps reduce miscommunications and ensures everyone is in #
#   the same page.                                                                                #
# What the hell is a YAML?:                                                                       #
#   YAML is a type of files that allows people to write data in a way that is readable to both a  #
#   person AND a computer. As opposed to other filetypes like JSON and XML, the syntax is pretty  #
#   nice and readable and will thus make a good reference for programmers and non-programmers in  #
#   the team.                                                                                     #
# (video explaining how to use a YAML) https://www.youtube.com/watch?v=BEki_rsWu4E                #
#                                                                                                 #
# Basic rules:                                                                                    #
#   1. Be clear with naming, limit acronym usage on any parameters you add                        #
#   2. Write the units in a comment using parenthesis and maintain unit system consistency        #
#   3. Write your name next to any parameters you own, notify owners of inputs before             #
#      changing them                                                                              #
#   4. Do not change OUTPUTS manually, only code should do this!!!                                #
#   5. No slop, only throw a value here if it actually is useful information. EX: things like     #
#      shaft speed, design propellant temps... Not things like super specific shaft dimensions or #
#      random off-design conditions                                                               #
#   6. Check if the value is already there before adding it                                       #
#                                                                                                 #
# If you have any questions about how to use this document, reach out to Dominik Sloup            #
# dsloup@purdue.edu                                                                               #
#                                                                                                 #
###################################################################################################

######################################
###### MAELSTROM ENGINE INPUTS #######
######################################

thrust: 500 # (lbf) Dominik Sloup
of_ratio: 0.85 # (N/A) Dominik Sloup
chamber_pressure: 250 # (psi) Dominik Sloup
exhaust_pressure: 14.7 # (psi) Dominik Sloup
regen_pressure_drop: 200 # (psi) James Nida
cstar_eff: 0.8 # (N/A) Dominik Sloup
isp_eff: 1 # (N/A) Dominik Sloup
Lstar: 55 # (in) Dominik Sloup

chamber_diameter: 3.4   # (in)  Dominik Sloup
converging_angle: 45    # (deg) Dominik Sloup
diverging_angle: 13.5   # (deg) Dominik Sloup
converging_fillet: 0.5  # (in)  Dominik Sloup
throat_fillet: 0.55     # (in)   Dominik Sloup

gox_stiffness: 1.7  # (N/A) Dominik Sloup
gox_orifice_number: 32 # (N/A) Dominik Sloup
gox_discharge_coeff: 0.8 # (N/A) Dominik Sloup
gox_tube_inner_dia: 0.9 # (in) Dominik Sloup
gox_temperature: 293.15 # (K) Dominik Sloup

fuel_stiffness: 0.2 # (N/A) Dominik Sloup
fuel_orifice_number: 32 # (N/A) Dominik Sloup
fuel_discharge_coeff: 0.8 # (N/A) Dominik Sloup
fuel_tube_inner_dia: 0.4 # (in) Dominik Sloup
fuel_temperature: 400 # (K) James Nida's Regen Code

######################################
###### MAELSTROM ENGINE OUTPUTS ######
######################################

# Expected performance parameters

cstar: 1197 # (m/s) Dominik Sloup
isp: 177 # (s) Dominik Sloup

# Maelstrom chamber geometry

throat_diameter: 1.322 # Needs to be > 1.2 (in), dictated by the minimum bore diameter of our longest boring bar
throat_area: 1.373 # (in^2) Dominik Sloup
total_length: 9.6  # Needs to be < 10 (in), dictated by the length of our longest drill (website doesn't account for fixture and injector overlap)
exit_diameter: 2.309 # (in) Dominik Sloup
chamber_volume: 75.5  # (in^3) Dominik Sloup

# Maelstrom oxidizer injector parameters

gox_design_mdot: 1.292 # (lb/s) Dominik Sloup
gox_CdA: 0.077515 # (in^2) Dominik Sloup
gox_orifice_dia: 0.062 # (in) Dominik Sloup
gox_feed_pressure: 675  # (psi) Declan Koch, required be under 675 (@ 1.292 lb/s) to keep gox line velocity under 75 ft/s
gox_SCFM: 932.94  # (ft^3/min) Dominik Sloup

# Maelstrom fuel injector parameters

fuel_design_mdot: 1.52  # (lb/s) Dominik Sloup
fuel_orifice_dia: 0.049 # (in) Dominik Sloup
fuel_CdA: 0.049175 # (in^2) Dominik Sloup
fuel_injector_pressure: 300 # (psi) Dominik Sloup
n2_SCFM: 43.69 # (ft^3/min) Dominik Sloup

# Fuel venturi parameters

fuel_feed_pressure: 834 # (psi) Dominik Sloup
critical_pressure_ratio: 0.7 # (N/A) Dominik Sloup
minumum_pressure_ratio: 0.6 # (N/A) Dominik Sloup
venturi_throat_diameter: 0.123 # (in) Dominik Sloup